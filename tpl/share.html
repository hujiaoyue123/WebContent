<!-- 分享 -->
<ion-view view-title="分享">
	<!-- 内容 -->
	<ion-content class="stable-bg" has-bouncing="true">
		<ion-refresher on-refresh="SHARE.select()"></ion-refresher>
		<ion-list>
			<ion-item class="item-avatar" ng-repeat="share in shareList">
				<img ng-src="{{share.resource.src}}" style="border-radius:0;">
      			<h2 style="line-height:20px;" ng-bind="share.resource.title"></h2>
      			<p>分享于 <span ng-bind="share.sharetime"></span></p>
      			<!-- 滑动按钮 -->
      			<ion-option-button class="button-calm" ng-click="operate('share',share)"> 分 享 </ion-option-button>
				<ion-option-button class="button-assertive" ng-click="operate('remove',share)"> 删 除 </ion-option-button>
			</ion-item>
		</ion-list>
		<!-- 展示分享历史 -->
		<div class="list">
			<div class="item" ng-repeat="shared in historyShared">
				<!-- 展示 -->
				<div style="cursor:pointer;margin-right:70px;" ng-click="openFile(shared.file[0])">
					<!-- 图标 -->
					<div style="position:absolute;top:7px;left:16px;width:50px;height:50px;line-height:50px;text-align: center;">
						<img style="max-width:100%;max-height:100%;vertical-align:middle;" ng-src="{{shared.file[0].src}}">
					</div>
					<!-- 标题 -->
					<div style="margin-left:75px;"><!--margin-right:92px;  -->
						<h2 ng-bind="shared.file[0].title"></h2>
		        		<p><span ng-bind="shared.sharetime"></span>
		        		 	<span style="margin-left:10px" ng-bind="shared.file[0].filesize"></span>
		        		</p>
	        		</div>
	        	</div>
		        <!-- 更多 -->
		        <div style="position:absolute;top:7px;right:0px;">
		        	<a class="button button-clear button-positive" style="width:72px;" ng-click="operate('toggle',shared)"><i class="icon ion-ios-arrow-down"></i></a>
		        </div>
        		<!-- 操作 -->
        		<div ng-if="shared.showtool" style="display:flex;display:-webkit-flex;margin:-16px;margin-top:8px;margin-bottom:-16px;background:#FBFBFB;box-shadow:inset 0 2px 1px 1px #E6E0E0;padding-top:3px;">
					<div style="flex:auto;display:inline-block;text-align: center;">
						<!-- pc -->
						<button style="width:100%;background-color:transparent;color:#387EF5;padding:0 10px;border:none;" clipboard text="shared.copyLink" on-copied="onCopy(1)" on-error="onCopy(2)" ng-click="operate('copy',shared)">
			     			<i class="icon ion-link" style="display:block;font-size:24px;line-height: 18px;"></i>
			     			<span>复制链接</span>
			     		</button>
			     		<!-- Mobile
						<button style="width:100%;background-color:transparent;color:#387EF5;padding:0 10px;border:none;" ng-click="operate('copy',shared)">
			     			<i class="icon ion-android-share-alt" style="display:block;font-size:24px;line-height: 18px;"></i>
			     			<span>分享</span>
			     		</button> -->
					</div>
					<div ng-if="file.iontype != 'folder'" style="flex:auto;display:inline-block;text-align: center;">
						<button style="width:100%;background-color:transparent;color:#387EF5;padding:0 10px;border:none;" ng-click="operate('set',shared)">
			     			<i class="icon ion-ios-gear-outline" style="display:block;font-size:24px;line-height: 18px;"></i>
			     			<span>设置</span>
			     		</button>
					</div>
					<div style="flex:auto;display:inline-block;text-align: center;">
						<button style="width:100%;background-color:transparent;color:#F1081B;padding:0 10px;border:none;" ng-click="operate('remove',shared)">
			     			<i class="icon ion-trash-a" style="display:block;font-size:24px;line-height: 18px;"></i>
			     			<span>取消分享</span>
			     		</button>
					</div>
        		</div>
			</div>
		</div>
		<!-- 提示  -->
		<div ng-if="shareList.length == 0" style="margin-top:150px;text-align:center;">
			<h4 style="color:grey;">暂无分享记录</h4>
		</div>
	</ion-content>
</ion-view>